---
title: "Data Verification"
format: html
---

## Gamelogs

```{r}
library(tidyverse)
wnba_gl <- read_rds(here::here("data/wnba_gl.rds"))
```

```{r}
wnba_gl |>
  group_by(SEASON_ID) |>
  summarize(
    num_teams = n_distinct(TEAM_ID),
    num_games = n(),
    num_wins = sum(win_flag, na.rm = TRUE),
    mean_wpct = sum(win_flag, na.rm = TRUE) / n(),
    mean_rolling_wins = mean(rolling_wins_44),
    num_cc = sum(is_cc, na.rm = TRUE)
  )
```

```{r}
ggplot(wnba_gl, aes(x = rolling_wins_44, color = SEASON_ID)) +
  geom_vline(xintercept = 22, linetype = 3) +
  geom_density()
```

```{r}
ggplot(wnba_gl, aes(x = rolling_wins_44)) +
  geom_vline(xintercept = 22, linetype = 3) +
  geom_density() +
  facet_wrap(vars(TEAM_ID))
```

```{r}
ggplot(wnba_gl, aes(y = attendance, x = rolling_wins_44, color = is_cc)) +
  geom_point() +
  facet_wrap(vars(TEAM_NAME))
```

