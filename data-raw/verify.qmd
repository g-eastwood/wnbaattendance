---
title: "Data Verification"
format: html
---

## Gamelogs

```{r}
library(tidyverse)
wnba_gamelogs <- read_rds(here::here("data/wnba_gamelogs.rds"))
```

```{r}
wnba_gamelogs |>
  group_by(SEASON_ID) |>
  summarize(
    num_teams = n_distinct(TEAM_ID),
    num_games = n(),
    num_wins = sum(win_flag, na.rm = TRUE),
    mean_wpct = sum(win_flag, na.rm = TRUE) / n(),
    mean_rolling_wins = mean(rolling_wins_44)
  )
```

```{r}
ggplot(wnba_gamelogs, aes(x = rolling_wins_44, color = SEASON_ID)) +
  geom_vline(xintercept = 22, linetype = 3) +
  geom_density()
```

```{r}
ggplot(wnba_gamelogs, aes(x = rolling_wins_44)) +
  geom_vline(xintercept = 22, linetype = 3) +
  geom_density() +
  facet_wrap(vars(TEAM_ID))
```
